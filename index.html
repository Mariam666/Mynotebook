<!DOCTYPE html>

<html>
<head>
    <title>My Notebook</title>
    <style>
        body { font-family: serif; padding: 20px; background: #f9fafb; }
        .container { max-width: 1000px; margin: 0 auto; }
        h1 { color: #333; margin-bottom: 20px; }
        .stats { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; }
        .stat-card { background: white; padding: 15px; border-radius: 8px; border: 2px solid #e5e7eb; text-align: center; cursor: pointer; }
        .stat-card:hover { background: #f3f4f6; }
        .nav-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 20px; }
        .tab-btn { padding: 15px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; text-align: center; }
        .tab-btn:hover { background: #f3f4f6; }
        .tab-btn.active { background: #dbeafe; color: #1d4ed8; border-color: #93c5fd; }
        .content { background: white; padding: 20px; border-radius: 8px; border: 1px solid #e5e7eb; }
        .hidden { display: none; }
        input, textarea, select { padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-family: inherit; }
        textarea { width: 100%; height: 120px; resize: vertical; }
        .btn { padding: 8px 15px; border: none; border-radius: 4px; cursor: pointer; font-weight: 500; }
        .btn-primary { background: #3b82f6; color: white; }
        .btn-green { background: #10b981; color: white; }
        .btn-delete { background: #ef4444; color: white; padding: 4px 8px; font-size: 12px; }
        .item { padding: 15px; border: 1px solid #e5e7eb; border-radius: 6px; margin-bottom: 8px; display: flex; align-items: center; gap: 10px; }
        .item-content { flex: 1; cursor: pointer; }
        .item-actions { display: flex; gap: 8px; align-items: center; }
        .form-row { display: flex; gap: 8px; margin-bottom: 15px; flex-wrap: wrap; align-items: center; }
        .form-row input, .form-row select { min-width: 120px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>📝 Notebook</h1>

```
    <div id="stats" class="stats">
        <div class="stat-card" onclick="showTab('calories')">
            <div>🔥 Calories</div>
            <div style="font-size: 14px; color: #2563eb;" id="cal-today">0 cal today</div>
            <div style="font-size: 14px; color: #8b5cf6;" id="protein-today">0g protein</div>
        </div>
        <div class="stat-card" onclick="showTab('spending')">
            <div>💰 Spending</div>
            <div style="font-size: 14px; color: #2563eb;" id="spend-week">$0 this week</div>
        </div>
    </div>
    
    <div style="margin-bottom: 15px;">
        <button class="tab-btn active" onclick="showTab('home')" id="tab-home" style="width: 100%; padding: 20px;">
            🏠 Home
        </button>
    </div>
    
    <div class="nav-grid">
        <button class="tab-btn" onclick="showTab('notes')" id="tab-notes">📝<br>Notes</button>
        <button class="tab-btn" onclick="showTab('read')" id="tab-read">📚<br>Read</button>
        <button class="tab-btn" onclick="showTab('listen')" id="tab-listen">🎵<br>Listen</button>
        <button class="tab-btn" onclick="showTab('watch')" id="tab-watch">📺<br>Watch</button>
        <button class="tab-btn" onclick="showTab('cook')" id="tab-cook">🍳<br>Cook</button>
        <button class="tab-btn" onclick="showTab('make')" id="tab-make">🔨<br>Make</button>
        <button class="tab-btn" onclick="showTab('calories')" id="tab-calories">🔥<br>Calories</button>
        <button class="tab-btn" onclick="showTab('spending')" id="tab-spending">💰<br>Spending</button>
    </div>

    <div style="text-align: center; margin-bottom: 20px;">
        <button class="btn btn-green" onclick="downloadData()">📥 Download Data</button>
        <button class="btn" onclick="document.getElementById('upload').click()" style="background: #8b5cf6; color: white;">📤 Upload Data</button>
        <input type="file" id="upload" accept=".json" style="display: none;" onchange="uploadData(event)">
    </div>
    
    <div id="content" class="content hidden"></div>
</div>
```

<script>
let data = {
    lists: { read: [], listen: [], watch: [], cook: [], make: [] },
    notes: [],
    calories: [],
    spending: []
};

function save() {
    localStorage.setItem('notebook', JSON.stringify(data));
}

function load() {
    const saved = localStorage.getItem('notebook');
    if (saved) data = JSON.parse(saved);
}

function showTab(tab) {
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.getElementById('tab-' + tab).classList.add('active');

    if (tab === 'home') {
        document.getElementById('stats').style.display = 'grid';
        document.getElementById('content').classList.add('hidden');
        updateStats();
    } else {
        document.getElementById('stats').style.display = 'none';
        document.getElementById('content').classList.remove('hidden');
        loadTab(tab);
    }
}

function loadTab(tab) {
    const content = document.getElementById('content');
    
    if (['read', 'listen', 'watch', 'cook', 'make'].includes(tab)) {
        loadListTab(tab);
    } else if (tab === 'notes') {
        loadNotesTab();
    } else if (tab === 'calories') {
        loadCaloriesTab();
    } else if (tab === 'spending') {
        loadSpendingTab();
    }
}

function loadListTab(listName) {
    const items = data.lists[listName] || [];
    const content = document.getElementById('content');
    
    let html = '<h2>' + listName.toUpperCase() + '</h2>';
    
    if (listName === 'read') {
        html += '<div class="form-row">' +
                '<input type="text" id="item-input" placeholder="Title" style="flex: 2;">' +
                '<input type="url" id="link-input" placeholder="Link">' +
                '<select id="cat-input"><option value="book">Book</option><option value="essay">Essay</option><option value="poem">Poem</option></select>' +
                '<input type="date" id="date-input" value="' + new Date().toISOString().split('T')[0] + '">' +
                '<button class="btn btn-primary" onclick="addItem(\'' + listName + '\')">Add</button>' +
                '</div>';
    } else {
        html += '<div class="form-row">' +
                '<input type="text" id="item-input" placeholder="Title" style="flex: 2;">' +
                '<input type="url" id="link-input" placeholder="Link">' +
                '<input type="date" id="date-input" value="' + new Date().toISOString().split('T')[0] + '">' +
                '<button class="btn btn-primary" onclick="addItem(\'' + listName + '\')">Add</button>' +
                '</div>';
    }
    
    html += '<div>';
    items.sort((a, b) => new Date(b.date) - new Date(a.date)).forEach(item => {
        let bgColor = 'white';
        if (listName === 'read') {
            if (item.category === 'book') bgColor = '#dbeafe';
            else if (item.category === 'essay') bgColor = '#f0fdf4';
            else if (item.category === 'poem') bgColor = '#faf5ff';
        }
        
        html += '<div class="item" style="background: ' + bgColor + ';">' +
                '<div class="item-content" onclick="editItem(\'' + listName + '\', ' + item.id + ')">' +
                item.content +
                (listName === 'read' ? '<br><small><strong>' + (item.category || 'book').toUpperCase() + '</strong></small>' : '') +
                '<br><small>' + new Date(item.date).toLocaleDateString() + '</small>' +
                '</div>' +
                '<div class="item-actions">' +
                (item.link ? '<button class="btn-green" style="padding: 4px 8px; font-size: 12px;" onclick="window.open(\'' + item.link + '\')">🔗</button>' : '') +
                '<button class="btn btn-delete" onclick="deleteItem(\'' + listName + '\', ' + item.id + ')">🗑️</button>' +
                '</div>' +
                '</div>';
    });
    html += '</div>';
    
    content.innerHTML = html;
}

function addItem(listName) {
    const itemInput = document.getElementById('item-input');
    const linkInput = document.getElementById('link-input');
    const dateInput = document.getElementById('date-input');
    
    if (!itemInput.value.trim() || !dateInput.value) return;
    
    const item = {
        id: Date.now(),
        content: itemInput.value.trim(),
        date: dateInput.value
    };
    
    if (listName === 'read') {
        item.category = document.getElementById('cat-input').value;
    }
    
    if (linkInput.value.trim()) {
        item.link = linkInput.value.trim();
    }
    
    data.lists[listName].push(item);
    save();
    itemInput.value = '';
    linkInput.value = '';
    loadListTab(listName);
}

function editItem(listName, id) {
    const item = data.lists[listName].find(i => i.id === id);
    if (!item) return;
    
    const newContent = prompt('Edit:', item.content);
    if (!newContent) return;
    
    const newDate = prompt('Date (YYYY-MM-DD):', item.date);
    if (!newDate) return;
    
    item.content = newContent;
    item.date = newDate;
    
    if (listName === 'read') {
        const newCat = prompt('Category (book/essay/poem):', item.category);
        if (newCat) item.category = newCat;
    }
    
    const newLink = prompt('Link (optional):', item.link || '');
    if (newLink !== null) {
        if (newLink.trim()) item.link = newLink.trim();
        else delete item.link;
    }
    
    save();
    loadListTab(listName);
}

function deleteItem(listName, id) {
    if (confirm('Delete?')) {
        data.lists[listName] = data.lists[listName].filter(i => i.id !== id);
        save();
        loadListTab(listName);
    }
}

function loadNotesTab() {
    const content = document.getElementById('content');
    
    let html = '<h2>NOTES</h2>' +
               '<div style="margin-bottom: 15px;">' +
               '<textarea id="note-input" placeholder="Write note..."></textarea>' +

```
           '<div style="display: flex; gap: 8px; margin-top: 8px;">' +
           '<input type="date" id="note-date" value="' + new Date().toISOString().split('T')[0] + '">' +
           '<button class="btn btn-primary" onclick="addNote()">Save</button>' +
           '</div></div><div>';

data.notes.sort((a, b) => new Date(b.date) - new Date(a.date)).forEach(note => {
    html += '<div style="padding: 15px; background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 6px; margin-bottom: 10px;">' +
            '<div style="cursor: pointer; margin-bottom: 8px; white-space: pre-wrap;" onclick="editNote(' + note.id + ')">' + note.content + '</div>' +
            '<div style="display: flex; justify-content: space-between; align-items: center;">' +
            '<small>' + new Date(note.date).toLocaleDateString() + '</small>' +
            '<button class="btn btn-delete" onclick="deleteNote(' + note.id + ')">🗑️</button>' +
            '</div></div>';
});

content.innerHTML = html + '</div>';
```

}

function addNote() {
const input = document.getElementById(‘note-input’);
const dateInput = document.getElementById(‘note-date’);

```
if (!input.value.trim() || !dateInput.value) return;

data.notes.push({
    id: Date.now(),
    content: input.value.trim(),
    date: dateInput.value
});

save();
input.value = '';
loadNotesTab();
```

}

function editNote(id) {
const note = data.notes.find(n => n.id === id);
if (!note) return;

```
const newContent = prompt('Edit:', note.content);
if (!newContent) return;

const newDate = prompt('Date:', note.date);
if (!newDate) return;

note.content = newContent;
note.date = newDate;
save();
loadNotesTab();
```

}

function deleteNote(id) {
if (confirm(‘Delete?’)) {
data.notes = data.notes.filter(n => n.id !== id);
save();
loadNotesTab();
}
}

function loadCaloriesTab() {
const content = document.getElementById(‘content’);

```
let html = '<h2>CALORIES</h2>' +
           '<div class="form-row">' +
           '<input type="text" id="food-input" placeholder="Food">' +
           '<input type="number" id="cal-input" placeholder="Calories">' +
           '<input type="number" id="prot-input" placeholder="Protein">' +
           '<select id="meal-input"><option value="breakfast">Breakfast</option><option value="lunch">Lunch</option><option value="dinner">Dinner</option><option value="snack">Snack</option></select>' +
           '<input type="date" id="cal-date" value="' + new Date().toISOString().split('T')[0] + '">' +
           '<button class="btn btn-green" onclick="addCalorie()">Add</button>' +
           '</div><div>';

data.calories.sort((a, b) => new Date(b.date) - new Date(a.date)).forEach(entry => {
    html += '<div class="item">' +
            '<div class="item-content" onclick="editCalorie(' + entry.id + ')">' +
            '<strong>' + entry.food + '</strong> - ' + entry.calories + ' cal' +
            (entry.protein ? ', ' + entry.protein + 'g protein' : '') +
            ' (' + entry.meal + ')' +
            '<br><small>' + new Date(entry.date).toLocaleDateString() + '</small>' +
            '</div>' +
            '<button class="btn btn-delete" onclick="deleteCalorie(' + entry.id + ')">🗑️</button>' +
            '</div>';
});

content.innerHTML = html + '</div>';
```

}

function addCalorie() {
const food = document.getElementById(‘food-input’).value.trim();
const cals = parseInt(document.getElementById(‘cal-input’).value);
const protein = parseInt(document.getElementById(‘prot-input’).value) || 0;
const meal = document.getElementById(‘meal-input’).value;
const date = document.getElementById(‘cal-date’).value;

```
if (!food || !cals || !date) return;

data.calories.push({
    id: Date.now(),
    food: food,
    calories: cals,
    protein: protein,
    meal: meal,
    date: date
});

save();
document.getElementById('food-input').value = '';
document.getElementById('cal-input').value = '';
document.getElementById('prot-input').value = '';
loadCaloriesTab();
updateStats();
```

}

function editCalorie(id) {
const entry = data.calories.find(e => e.id === id);
if (!entry) return;

```
const food = prompt('Food:', entry.food);
if (!food) return;

const cals = prompt('Calories:', entry.calories);
if (!cals) return;

const protein = prompt('Protein:', entry.protein);
const date = prompt('Date:', entry.date);
if (!date) return;

entry.food = food;
entry.calories = parseInt(cals);
entry.protein = parseInt(protein) || 0;
entry.date = date;
save();
loadCaloriesTab();
updateStats();
```

}

function deleteCalorie(id) {
if (confirm(‘Delete?’)) {
data.calories = data.calories.filter(e => e.id !== id);
save();
loadCaloriesTab();
updateStats();
}
}

function loadSpendingTab() {
const content = document.getElementById(‘content’);

```
let html = '<h2>SPENDING</h2>' +
           '<div class="form-row">' +
           '<input type="text" id="desc-input" placeholder="Description" style="flex: 2;">' +
           '<input type="number" id="amt-input" step="0.01" placeholder="Amount">' +
           '<select id="cat-input"><option value="food">Food</option><option value="transport">Transport</option><option value="entertainment">Entertainment</option><option value="shopping">Shopping</option><option value="other">Other</option></select>' +
           '<input type="date" id="spend-date" value="' + new Date().toISOString().split('T')[0] + '">' +
           '<button class="btn btn-primary" onclick="addSpending()">Add</button>' +
           '</div><div>';

data.spending.sort((a, b) => new Date(b.date) - new Date(a.date)).forEach(entry => {
    html += '<div class="item">' +
            '<div class="item-content" onclick="editSpending(' + entry.id + ')">' +
            '<strong>' + entry.description + '</strong> - $' + entry.amount.toFixed(2) + ' (' + entry.category + ')' +
            '<br><small>' + new Date(entry.date).toLocaleDateString() + '</small>' +
            '</div>' +
            '<button class="btn btn-delete" onclick="deleteSpending(' + entry.id + ')">🗑️</button>' +
            '</div>';
});

content.innerHTML = html + '</div>';
```

}

function addSpending() {
const desc = document.getElementById(‘desc-input’).value.trim();
const amt = parseFloat(document.getElementById(‘amt-input’).value);
const cat = document.getElementById(‘cat-input’).value;
const date = document.getElementById(‘spend-date’).value;

```
if (!desc || !amt || !date) return;

data.spending.push({
    id: Date.now(),
    description: desc,
    amount: amt,
    category: cat,
    date: date
});

save();
document.getElementById('desc-input').value = '';
document.getElementById('amt-input').value = '';
loadSpendingTab();
updateStats();
```

}

function editSpending(id) {
const entry = data.spending.find(e => e.id === id);
if (!entry) return;

```
const desc = prompt('Description:', entry.description);
if (!desc) return;

const amt = prompt('Amount:', entry.amount);
if (!amt) return;

const date = prompt('Date:', entry.date);
if (!date) return;

entry.description = desc;
entry.amount = parseFloat(amt);
entry.date = date;
save();
loadSpendingTab();
updateStats();
```

}

function deleteSpending(id) {
if (confirm(‘Delete?’)) {
data.spending = data.spending.filter(e => e.id !== id);
save();
loadSpendingTab();
updateStats();
}
}

function updateStats() {
const today = new Date().toISOString().split(‘T’)[0];
const todayCals = data.calories.filter(e => e.date === today).reduce((sum, e) => sum + e.calories, 0);
const todayProtein = data.calories.filter(e => e.date === today).reduce((sum, e) => sum + (e.protein || 0), 0);

```
document.getElementById('cal-today').textContent = todayCals + ' cal today';
document.getElementById('protein-today').textContent = todayProtein + 'g protein';

const weekStart = new Date();
weekStart.setDate(weekStart.getDate() - weekStart.getDay());
const weekSpend = data.spending.filter(e => new Date(e.date) >= weekStart).reduce((sum, e) => sum + e.amount, 0);

document.getElementById('spend-week').textContent = '$' + weekSpend.toFixed(2) + ' this week';
```

}

function downloadData() {
const blob = new Blob([JSON.stringify(data, null, 2)], {type: ‘application/json’});
const url = URL.createObjectURL(blob);
const a = document.createElement(‘a’);
a.href = url;
a.download = ‘notebook-data.json’;
a.click();
URL.revokeObjectURL(url);
}

function uploadData(event) {
const file = event.target.files[0];
if (!file) return;

```
const reader = new FileReader();
reader.onload = function(e) {
    try {
        const imported = JSON.parse(e.target.result);
        if (confirm('Replace all data with uploaded file?')) {
            data = imported;
            save();
            showTab('home');
            alert('Data imported!');
        }
    } catch (error) {
        alert('Error: ' + error.message);
    }
};
reader.readAsText(file);
event.target.value = '';
```

}

// Initialize
load();
showTab(‘home’);
updateStats();
</script>

</body>
</html>
